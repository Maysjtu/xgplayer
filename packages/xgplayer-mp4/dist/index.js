!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("xgplayer")):"function"==typeof define&&define.amd?define(["xgplayer"],t):"object"==typeof exports?exports["xgplayer-mp4"]=t(require("xgplayer")):e["xgplayer-mp4"]=t(e.xgplayer)}(window,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}({"./node_modules/concat-typed-array/lib/concat.js":
/*!*******************************************************!*\
  !*** ./node_modules/concat-typed-array/lib/concat.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=0,r=arguments.length,n=Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var o=!0,i=!1,a=void 0;try{for(var u,d=n[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){t+=u.value.length}}catch(e){i=!0,a=e}finally{try{!o&&d.return&&d.return()}finally{if(i)throw a}}var c=new e(t),l=0,f=!0,m=!1,p=void 0;try{for(var h,v=n[Symbol.iterator]();!(f=(h=v.next()).done);f=!0){var y=h.value;c.set(y,l),l+=y.length}}catch(e){m=!0,p=e}finally{try{!f&&v.return&&v.return()}finally{if(m)throw p}}return c}},"./node_modules/concat-typed-array/lib/index.js":
/*!******************************************************!*\
  !*** ./node_modules/concat-typed-array/lib/index.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(r(/*! ./concat */"./node_modules/concat-typed-array/lib/concat.js"));e.exports=n.default},"./node_modules/core-js/modules/_a-function.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/modules/_a-function.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/modules/_an-instance.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/modules/_an-instance.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},"./node_modules/core-js/modules/_an-object.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/modules/_an-object.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_is-object */"./node_modules/core-js/modules/_is-object.js");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/modules/_classof.js":
/*!**************************************************!*\
  !*** ./node_modules/core-js/modules/_classof.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_cof */"./node_modules/core-js/modules/_cof.js"),s=r(/*! ./_wks */"./node_modules/core-js/modules/_wks.js")("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?r:o?n(t):"Object"==(i=n(t))&&"function"==typeof t.callee?"Arguments":i}},"./node_modules/core-js/modules/_cof.js":
/*!**********************************************!*\
  !*** ./node_modules/core-js/modules/_cof.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"./node_modules/core-js/modules/_core.js":
/*!***********************************************!*\
  !*** ./node_modules/core-js/modules/_core.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},"./node_modules/core-js/modules/_ctx.js":
/*!**********************************************!*\
  !*** ./node_modules/core-js/modules/_ctx.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_a-function */"./node_modules/core-js/modules/_a-function.js");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,s){return e.call(t,r,n,s)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js/modules/_defined.js":
/*!**************************************************!*\
  !*** ./node_modules/core-js/modules/_defined.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/modules/_descriptors.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/modules/_descriptors.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=!r(/*! ./_fails */"./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_dom-create.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/modules/_dom-create.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_is-object */"./node_modules/core-js/modules/_is-object.js"),s=r(/*! ./_global */"./node_modules/core-js/modules/_global.js").document,o=n(s)&&n(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},"./node_modules/core-js/modules/_export.js":
/*!*************************************************!*\
  !*** ./node_modules/core-js/modules/_export.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_global */"./node_modules/core-js/modules/_global.js"),s=r(/*! ./_core */"./node_modules/core-js/modules/_core.js"),o=r(/*! ./_hide */"./node_modules/core-js/modules/_hide.js"),i=r(/*! ./_redefine */"./node_modules/core-js/modules/_redefine.js"),a=r(/*! ./_ctx */"./node_modules/core-js/modules/_ctx.js"),u=function e(t,r,u){var d,c,l,f,m=t&e.F,p=t&e.G,h=t&e.P,v=t&e.B,y=p?n:t&e.S?n[r]||(n[r]={}):(n[r]||{}).prototype,j=p?s:s[r]||(s[r]={}),_=j.prototype||(j.prototype={});for(d in p&&(u=r),u)l=((c=!m&&y&&void 0!==y[d])?y:u)[d],f=v&&c?a(l,n):h&&"function"==typeof l?a(Function.call,l):l,y&&i(y,d,l,t&e.U),j[d]!=l&&o(j,d,f),h&&_[d]!=l&&(_[d]=l)};n.core=s,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"./node_modules/core-js/modules/_fails.js":
/*!************************************************!*\
  !*** ./node_modules/core-js/modules/_fails.js ***!
  \************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/modules/_for-of.js":
/*!*************************************************!*\
  !*** ./node_modules/core-js/modules/_for-of.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_ctx */"./node_modules/core-js/modules/_ctx.js"),s=r(/*! ./_iter-call */"./node_modules/core-js/modules/_iter-call.js"),o=r(/*! ./_is-array-iter */"./node_modules/core-js/modules/_is-array-iter.js"),i=r(/*! ./_an-object */"./node_modules/core-js/modules/_an-object.js"),a=r(/*! ./_to-length */"./node_modules/core-js/modules/_to-length.js"),u=r(/*! ./core.get-iterator-method */"./node_modules/core-js/modules/core.get-iterator-method.js"),d={},c={},l=e.exports=function(e,t,r,l,f){var m,p,h,v,y=f?function(){return e}:u(e),j=n(r,l,t?2:1),_=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(m=a(e.length);m>_;_++)if((v=t?j(i(p=e[_])[0],p[1]):j(e[_]))===d||v===c)return v}else for(h=y.call(e);!(p=h.next()).done;)if((v=s(h,j,p.value,t))===d||v===c)return v};l.BREAK=d,l.RETURN=c},"./node_modules/core-js/modules/_global.js":
/*!*************************************************!*\
  !*** ./node_modules/core-js/modules/_global.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"./node_modules/core-js/modules/_has.js":
/*!**********************************************!*\
  !*** ./node_modules/core-js/modules/_has.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"./node_modules/core-js/modules/_hide.js":
/*!***********************************************!*\
  !*** ./node_modules/core-js/modules/_hide.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_object-dp */"./node_modules/core-js/modules/_object-dp.js"),s=r(/*! ./_property-desc */"./node_modules/core-js/modules/_property-desc.js");e.exports=r(/*! ./_descriptors */"./node_modules/core-js/modules/_descriptors.js")?function(e,t,r){return n.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},"./node_modules/core-js/modules/_html.js":
/*!***********************************************!*\
  !*** ./node_modules/core-js/modules/_html.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_global */"./node_modules/core-js/modules/_global.js").document;e.exports=n&&n.documentElement},"./node_modules/core-js/modules/_ie8-dom-define.js":
/*!*********************************************************!*\
  !*** ./node_modules/core-js/modules/_ie8-dom-define.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=!r(/*! ./_descriptors */"./node_modules/core-js/modules/_descriptors.js")&&!r(/*! ./_fails */"./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty(r(/*! ./_dom-create */"./node_modules/core-js/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_invoke.js":
/*!*************************************************!*\
  !*** ./node_modules/core-js/modules/_invoke.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},"./node_modules/core-js/modules/_is-array-iter.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/modules/_is-array-iter.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_iterators */"./node_modules/core-js/modules/_iterators.js"),s=r(/*! ./_wks */"./node_modules/core-js/modules/_wks.js")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[s]===e)}},"./node_modules/core-js/modules/_is-object.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/modules/_is-object.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":n(e))?null!==e:"function"==typeof e}},"./node_modules/core-js/modules/_iter-call.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/modules/_iter-call.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_an-object */"./node_modules/core-js/modules/_an-object.js");e.exports=function(e,t,r,s){try{return s?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},"./node_modules/core-js/modules/_iter-detect.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/modules/_iter-detect.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_wks */"./node_modules/core-js/modules/_wks.js")("iterator"),s=!1;try{var o=[7][n]();o.return=function(){s=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var r=!1;try{var o=[7],i=o[n]();i.next=function(){return{done:r=!0}},o[n]=function(){return i},e(o)}catch(e){}return r}},"./node_modules/core-js/modules/_iterators.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/modules/_iterators.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports={}},"./node_modules/core-js/modules/_library.js":
/*!**************************************************!*\
  !*** ./node_modules/core-js/modules/_library.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=!1},"./node_modules/core-js/modules/_microtask.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/modules/_microtask.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_global */"./node_modules/core-js/modules/_global.js"),s=r(/*! ./_task */"./node_modules/core-js/modules/_task.js").set,o=n.MutationObserver||n.WebKitMutationObserver,i=n.process,a=n.Promise,u="process"==r(/*! ./_cof */"./node_modules/core-js/modules/_cof.js")(i);e.exports=function(){var e,t,r,d=function(){var n,s;for(u&&(n=i.domain)&&n.exit();e;){s=e.fn,e=e.next;try{s()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){i.nextTick(d)};else if(!o||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var c=a.resolve(void 0);r=function(){c.then(d)}}else r=function(){s.call(n,d)};else{var l=!0,f=document.createTextNode("");new o(d).observe(f,{characterData:!0}),r=function(){f.data=l=!l}}return function(n){var s={fn:n,next:void 0};t&&(t.next=s),e||(e=s,r()),t=s}}},"./node_modules/core-js/modules/_new-promise-capability.js":
/*!*****************************************************************!*\
  !*** ./node_modules/core-js/modules/_new-promise-capability.js ***!
  \*****************************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_a-function */"./node_modules/core-js/modules/_a-function.js");e.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}(e)}},"./node_modules/core-js/modules/_object-dp.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/modules/_object-dp.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_an-object */"./node_modules/core-js/modules/_an-object.js"),s=r(/*! ./_ie8-dom-define */"./node_modules/core-js/modules/_ie8-dom-define.js"),o=r(/*! ./_to-primitive */"./node_modules/core-js/modules/_to-primitive.js"),i=Object.defineProperty;t.f=r(/*! ./_descriptors */"./node_modules/core-js/modules/_descriptors.js")?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),s)try{return i(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},"./node_modules/core-js/modules/_perform.js":
/*!**************************************************!*\
  !*** ./node_modules/core-js/modules/_perform.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},"./node_modules/core-js/modules/_promise-resolve.js":
/*!**********************************************************!*\
  !*** ./node_modules/core-js/modules/_promise-resolve.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_an-object */"./node_modules/core-js/modules/_an-object.js"),s=r(/*! ./_is-object */"./node_modules/core-js/modules/_is-object.js"),o=r(/*! ./_new-promise-capability */"./node_modules/core-js/modules/_new-promise-capability.js");e.exports=function(e,t){if(n(e),s(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},"./node_modules/core-js/modules/_property-desc.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/modules/_property-desc.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/modules/_redefine-all.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/modules/_redefine-all.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_redefine */"./node_modules/core-js/modules/_redefine.js");e.exports=function(e,t,r){for(var s in t)n(e,s,t[s],r);return e}},"./node_modules/core-js/modules/_redefine.js":
/*!***************************************************!*\
  !*** ./node_modules/core-js/modules/_redefine.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_global */"./node_modules/core-js/modules/_global.js"),s=r(/*! ./_hide */"./node_modules/core-js/modules/_hide.js"),o=r(/*! ./_has */"./node_modules/core-js/modules/_has.js"),i=r(/*! ./_uid */"./node_modules/core-js/modules/_uid.js")("src"),a=Function.toString,u=(""+a).split("toString");r(/*! ./_core */"./node_modules/core-js/modules/_core.js").inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,r,a){var d="function"==typeof r;d&&(o(r,"name")||s(r,"name",t)),e[t]!==r&&(d&&(o(r,i)||s(r,i,e[t]?""+e[t]:u.join(String(t)))),e===n?e[t]=r:a?e[t]?e[t]=r:s(e,t,r):(delete e[t],s(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||a.call(this)})},"./node_modules/core-js/modules/_set-species.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/modules/_set-species.js ***!
  \******************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_global */"./node_modules/core-js/modules/_global.js"),s=r(/*! ./_object-dp */"./node_modules/core-js/modules/_object-dp.js"),o=r(/*! ./_descriptors */"./node_modules/core-js/modules/_descriptors.js"),i=r(/*! ./_wks */"./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e){var t=n[e];o&&t&&!t[i]&&s.f(t,i,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/modules/_set-to-string-tag.js":
/*!************************************************************!*\
  !*** ./node_modules/core-js/modules/_set-to-string-tag.js ***!
  \************************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_object-dp */"./node_modules/core-js/modules/_object-dp.js").f,s=r(/*! ./_has */"./node_modules/core-js/modules/_has.js"),o=r(/*! ./_wks */"./node_modules/core-js/modules/_wks.js")("toStringTag");e.exports=function(e,t,r){e&&!s(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},"./node_modules/core-js/modules/_shared.js":
/*!*************************************************!*\
  !*** ./node_modules/core-js/modules/_shared.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_core */"./node_modules/core-js/modules/_core.js"),s=r(/*! ./_global */"./node_modules/core-js/modules/_global.js"),o=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(/*! ./_library */"./node_modules/core-js/modules/_library.js")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/modules/_species-constructor.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/modules/_species-constructor.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_an-object */"./node_modules/core-js/modules/_an-object.js"),s=r(/*! ./_a-function */"./node_modules/core-js/modules/_a-function.js"),o=r(/*! ./_wks */"./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e,t){var r,i=n(e).constructor;return void 0===i||void 0==(r=n(i)[o])?t:s(r)}},"./node_modules/core-js/modules/_string-pad.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/modules/_string-pad.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_to-length */"./node_modules/core-js/modules/_to-length.js"),s=r(/*! ./_string-repeat */"./node_modules/core-js/modules/_string-repeat.js"),o=r(/*! ./_defined */"./node_modules/core-js/modules/_defined.js");e.exports=function(e,t,r,i){var a=String(o(e)),u=a.length,d=void 0===r?" ":String(r),c=n(t);if(c<=u||""==d)return a;var l=c-u,f=s.call(d,Math.ceil(l/d.length));return f.length>l&&(f=f.slice(0,l)),i?f+a:a+f}},"./node_modules/core-js/modules/_string-repeat.js":
/*!********************************************************!*\
  !*** ./node_modules/core-js/modules/_string-repeat.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_to-integer */"./node_modules/core-js/modules/_to-integer.js"),s=r(/*! ./_defined */"./node_modules/core-js/modules/_defined.js");e.exports=function(e){var t=String(s(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},"./node_modules/core-js/modules/_task.js":
/*!***********************************************!*\
  !*** ./node_modules/core-js/modules/_task.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n,s,o,i=r(/*! ./_ctx */"./node_modules/core-js/modules/_ctx.js"),a=r(/*! ./_invoke */"./node_modules/core-js/modules/_invoke.js"),u=r(/*! ./_html */"./node_modules/core-js/modules/_html.js"),d=r(/*! ./_dom-create */"./node_modules/core-js/modules/_dom-create.js"),c=r(/*! ./_global */"./node_modules/core-js/modules/_global.js"),l=c.process,f=c.setImmediate,m=c.clearImmediate,p=c.MessageChannel,h=c.Dispatch,v=0,y={},j=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},_=function(e){j.call(e.data)};f&&m||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++v]=function(){a("function"==typeof e?e:Function(e),t)},n(v),v},m=function(e){delete y[e]},"process"==r(/*! ./_cof */"./node_modules/core-js/modules/_cof.js")(l)?n=function(e){l.nextTick(i(j,e,1))}:h&&h.now?n=function(e){h.now(i(j,e,1))}:p?(o=(s=new p).port2,s.port1.onmessage=_,n=i(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",_,!1)):n="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),j.call(e)}}:function(e){setTimeout(i(j,e,1),0)}),e.exports={set:f,clear:m}},"./node_modules/core-js/modules/_to-integer.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/modules/_to-integer.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=Math.ceil,s=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?s:n)(e)}},"./node_modules/core-js/modules/_to-length.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/modules/_to-length.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_to-integer */"./node_modules/core-js/modules/_to-integer.js"),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},"./node_modules/core-js/modules/_to-primitive.js":
/*!*******************************************************!*\
  !*** ./node_modules/core-js/modules/_to-primitive.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_is-object */"./node_modules/core-js/modules/_is-object.js");e.exports=function(e,t){if(!n(e))return e;var r,s;if(t&&"function"==typeof(r=e.toString)&&!n(s=r.call(e)))return s;if("function"==typeof(r=e.valueOf)&&!n(s=r.call(e)))return s;if(!t&&"function"==typeof(r=e.toString)&&!n(s=r.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/modules/_uid.js":
/*!**********************************************!*\
  !*** ./node_modules/core-js/modules/_uid.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=0,s=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+s).toString(36))}},"./node_modules/core-js/modules/_user-agent.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/modules/_user-agent.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_global */"./node_modules/core-js/modules/_global.js").navigator;e.exports=n&&n.userAgent||""},"./node_modules/core-js/modules/_wks.js":
/*!**********************************************!*\
  !*** ./node_modules/core-js/modules/_wks.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_shared */"./node_modules/core-js/modules/_shared.js")("wks"),s=r(/*! ./_uid */"./node_modules/core-js/modules/_uid.js"),o=r(/*! ./_global */"./node_modules/core-js/modules/_global.js").Symbol,i="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=i&&o[e]||(i?o:s)("Symbol."+e))}).store=n},"./node_modules/core-js/modules/core.get-iterator-method.js":
/*!******************************************************************!*\
  !*** ./node_modules/core-js/modules/core.get-iterator-method.js ***!
  \******************************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_classof */"./node_modules/core-js/modules/_classof.js"),s=r(/*! ./_wks */"./node_modules/core-js/modules/_wks.js")("iterator"),o=r(/*! ./_iterators */"./node_modules/core-js/modules/_iterators.js");e.exports=r(/*! ./_core */"./node_modules/core-js/modules/_core.js").getIteratorMethod=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||o[n(e)]}},"./node_modules/core-js/modules/es6.promise.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/modules/es6.promise.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n,s,o,i,a=r(/*! ./_library */"./node_modules/core-js/modules/_library.js"),u=r(/*! ./_global */"./node_modules/core-js/modules/_global.js"),d=r(/*! ./_ctx */"./node_modules/core-js/modules/_ctx.js"),c=r(/*! ./_classof */"./node_modules/core-js/modules/_classof.js"),l=r(/*! ./_export */"./node_modules/core-js/modules/_export.js"),f=r(/*! ./_is-object */"./node_modules/core-js/modules/_is-object.js"),m=r(/*! ./_a-function */"./node_modules/core-js/modules/_a-function.js"),p=r(/*! ./_an-instance */"./node_modules/core-js/modules/_an-instance.js"),h=r(/*! ./_for-of */"./node_modules/core-js/modules/_for-of.js"),v=r(/*! ./_species-constructor */"./node_modules/core-js/modules/_species-constructor.js"),y=r(/*! ./_task */"./node_modules/core-js/modules/_task.js").set,j=r(/*! ./_microtask */"./node_modules/core-js/modules/_microtask.js")(),_=r(/*! ./_new-promise-capability */"./node_modules/core-js/modules/_new-promise-capability.js"),b=r(/*! ./_perform */"./node_modules/core-js/modules/_perform.js"),x=r(/*! ./_user-agent */"./node_modules/core-js/modules/_user-agent.js"),g=r(/*! ./_promise-resolve */"./node_modules/core-js/modules/_promise-resolve.js"),w=u.TypeError,k=u.process,U=k&&k.versions,S=U&&U.v8||"",T=u.Promise,B="process"==c(k),M=function(){},O=s=_.f,z=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[r(/*! ./_wks */"./node_modules/core-js/modules/_wks.js")("species")]=function(e){e(M,M)};return(B||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==S.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),C=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},E=function(e,t){if(!e._n){e._n=!0;var r=e._c;j(function(){for(var n=e._v,s=1==e._s,o=0,i=function(t){var r,o,i,a=s?t.ok:t.fail,u=t.resolve,d=t.reject,c=t.domain;try{a?(s||(2==e._h&&A(e),e._h=1),!0===a?r=n:(c&&c.enter(),r=a(n),c&&(c.exit(),i=!0)),r===t.promise?d(w("Promise-chain cycle")):(o=C(r))?o.call(r,u,d):u(r)):d(n)}catch(e){c&&!i&&c.exit(),d(e)}};r.length>o;)i(r[o++]);e._c=[],e._n=!1,t&&!e._h&&P(e)})}},P=function(e){y.call(u,function(){var t,r,n,s=e._v,o=D(e);if(o&&(t=b(function(){B?k.emit("unhandledRejection",s,e):(r=u.onunhandledrejection)?r({promise:e,reason:s}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",s)}),e._h=B||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},A=function(e){y.call(u,function(){var t;B?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),E(t,!0))},L=function e(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(r=C(t))?j(function(){var s={_w:n,_d:!1};try{r.call(t,d(e,s,1),d(F,s,1))}catch(e){F.call(s,e)}}):(n._v=t,n._s=1,E(n,!1))}catch(e){F.call({_w:n,_d:!1},e)}}};z||(T=function(e){p(this,T,"Promise","_h"),m(e),n.call(this);try{e(d(L,this,1),d(F,this,1))}catch(e){F.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(/*! ./_redefine-all */"./node_modules/core-js/modules/_redefine-all.js")(T.prototype,{then:function(e,t){var r=O(v(this,T));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=B?k.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&E(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=d(L,e,1),this.reject=d(F,e,1)},_.f=O=function(e){return e===T||e===i?new o(e):s(e)}),l(l.G+l.W+l.F*!z,{Promise:T}),r(/*! ./_set-to-string-tag */"./node_modules/core-js/modules/_set-to-string-tag.js")(T,"Promise"),r(/*! ./_set-species */"./node_modules/core-js/modules/_set-species.js")("Promise"),i=r(/*! ./_core */"./node_modules/core-js/modules/_core.js").Promise,l(l.S+l.F*!z,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(a||!z),"Promise",{resolve:function(e){return g(a&&this===i?T:this,e)}}),l(l.S+l.F*!(z&&r(/*! ./_iter-detect */"./node_modules/core-js/modules/_iter-detect.js")(function(e){T.all(e).catch(M)})),"Promise",{all:function(e){var t=this,r=O(t),n=r.resolve,s=r.reject,o=b(function(){var r=[],o=0,i=1;h(e,!1,function(e){var a=o++,u=!1;r.push(void 0),i++,t.resolve(e).then(function(e){u||(u=!0,r[a]=e,--i||n(r))},s)}),--i||n(r)});return o.e&&s(o.v),r.promise},race:function(e){var t=this,r=O(t),n=r.reject,s=b(function(){h(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return s.e&&n(s.v),r.promise}})},"./node_modules/core-js/modules/es7.string.pad-start.js":
/*!**************************************************************!*\
  !*** ./node_modules/core-js/modules/es7.string.pad-start.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./_export */"./node_modules/core-js/modules/_export.js"),s=r(/*! ./_string-pad */"./node_modules/core-js/modules/_string-pad.js"),o=r(/*! ./_user-agent */"./node_modules/core-js/modules/_user-agent.js");n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},"./node_modules/d/index.js":
/*!*********************************!*\
  !*** ./node_modules/d/index.js ***!
  \*********************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! es5-ext/object/assign */"./node_modules/es5-ext/object/assign/index.js"),s=r(/*! es5-ext/object/normalize-options */"./node_modules/es5-ext/object/normalize-options.js"),o=r(/*! es5-ext/object/is-callable */"./node_modules/es5-ext/object/is-callable.js"),i=r(/*! es5-ext/string/#/contains */"./node_modules/es5-ext/string/#/contains/index.js");(e.exports=function(e,t){var r,o,a,u,d;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(r=a=!0,o=!1):(r=i.call(e,"c"),o=i.call(e,"e"),a=i.call(e,"w")),d={value:t,configurable:r,enumerable:o,writable:a},u?n(s(u),d):d}).gs=function(e,t,r){var a,u,d,c;return"string"!=typeof e?(d=r,r=t,t=e,e=null):d=arguments[3],null==t?t=void 0:o(t)?null==r?r=void 0:o(r)||(d=r,r=void 0):(d=t,t=r=void 0),null==e?(a=!0,u=!1):(a=i.call(e,"c"),u=i.call(e,"e")),c={get:t,set:r,configurable:a,enumerable:u},d?n(s(d),c):c}},"./node_modules/deepmerge/dist/es.js":
/*!*******************************************!*\
  !*** ./node_modules/deepmerge/dist/es.js ***!
  \*******************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e){return function(e){return!!e&&"object"===(void 0===e?"undefined":n(e))}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function a(e,t,r){return e.concat(t).map(function(e){return i(e,r)})}function u(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||a,r.isMergeableObject=r.isMergeableObject||s;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):function(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(t){n[t]=i(e[t],r)}),Object.keys(t).forEach(function(s){r.isMergeableObject(t[s])&&e[s]?n[s]=u(e[s],t[s],r):n[s]=i(t[s],r)}),n}(e,t,r):i(t,r)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return u(e,r,t)},{})};var d=u;t.default=d,e.exports=t.default},"./node_modules/es5-ext/function/noop.js":
/*!***********************************************!*\
  !*** ./node_modules/es5-ext/function/noop.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(){}},"./node_modules/es5-ext/object/assign/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/es5-ext/object/assign/index.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=r(/*! ./is-implemented */"./node_modules/es5-ext/object/assign/is-implemented.js")()?Object.assign:r(/*! ./shim */"./node_modules/es5-ext/object/assign/shim.js")},"./node_modules/es5-ext/object/assign/is-implemented.js":
/*!**************************************************************!*\
  !*** ./node_modules/es5-ext/object/assign/is-implemented.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},"./node_modules/es5-ext/object/assign/shim.js":
/*!****************************************************!*\
  !*** ./node_modules/es5-ext/object/assign/shim.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ../keys */"./node_modules/es5-ext/object/keys/index.js"),s=r(/*! ../valid-value */"./node_modules/es5-ext/object/valid-value.js"),o=Math.max;e.exports=function(e,t){var r,i,a,u=o(arguments.length,2);for(e=Object(s(e)),a=function(n){try{e[n]=t[n]}catch(e){r||(r=e)}},i=1;i<u;++i)t=arguments[i],n(t).forEach(a);if(void 0!==r)throw r;return e}},"./node_modules/es5-ext/object/is-callable.js":
/*!****************************************************!*\
  !*** ./node_modules/es5-ext/object/is-callable.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e){return"function"==typeof e}},"./node_modules/es5-ext/object/is-value.js":
/*!*************************************************!*\
  !*** ./node_modules/es5-ext/object/is-value.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ../function/noop */"./node_modules/es5-ext/function/noop.js")();e.exports=function(e){return e!==n&&null!==e}},"./node_modules/es5-ext/object/keys/index.js":
/*!***************************************************!*\
  !*** ./node_modules/es5-ext/object/keys/index.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=r(/*! ./is-implemented */"./node_modules/es5-ext/object/keys/is-implemented.js")()?Object.keys:r(/*! ./shim */"./node_modules/es5-ext/object/keys/shim.js")},"./node_modules/es5-ext/object/keys/is-implemented.js":
/*!************************************************************!*\
  !*** ./node_modules/es5-ext/object/keys/is-implemented.js ***!
  \************************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},"./node_modules/es5-ext/object/keys/shim.js":
/*!**************************************************!*\
  !*** ./node_modules/es5-ext/object/keys/shim.js ***!
  \**************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ../is-value */"./node_modules/es5-ext/object/is-value.js"),s=Object.keys;e.exports=function(e){return s(n(e)?Object(e):e)}},"./node_modules/es5-ext/object/normalize-options.js":
/*!**********************************************************!*\
  !*** ./node_modules/es5-ext/object/normalize-options.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./is-value */"./node_modules/es5-ext/object/is-value.js"),s=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);return s.call(arguments,function(e){n(e)&&function(e,t){var r;for(r in e)t[r]=e[r]}(Object(e),t)}),t}},"./node_modules/es5-ext/object/valid-callable.js":
/*!*******************************************************!*\
  !*** ./node_modules/es5-ext/object/valid-callable.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},"./node_modules/es5-ext/object/valid-value.js":
/*!****************************************************!*\
  !*** ./node_modules/es5-ext/object/valid-value.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! ./is-value */"./node_modules/es5-ext/object/is-value.js");e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},"./node_modules/es5-ext/string/#/contains/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/es5-ext/string/#/contains/index.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,r){"use strict";e.exports=r(/*! ./is-implemented */"./node_modules/es5-ext/string/#/contains/is-implemented.js")()?String.prototype.contains:r(/*! ./shim */"./node_modules/es5-ext/string/#/contains/shim.js")},"./node_modules/es5-ext/string/#/contains/is-implemented.js":
/*!******************************************************************!*\
  !*** ./node_modules/es5-ext/string/#/contains/is-implemented.js ***!
  \******************************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))}},"./node_modules/es5-ext/string/#/contains/shim.js":
/*!********************************************************!*\
  !*** ./node_modules/es5-ext/string/#/contains/shim.js ***!
  \********************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},"./node_modules/event-emitter/index.js":
/*!*********************************************!*\
  !*** ./node_modules/event-emitter/index.js ***!
  \*********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n,s,o,i,a,u,d,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=r(/*! d */"./node_modules/d/index.js"),f=r(/*! es5-ext/object/valid-callable */"./node_modules/es5-ext/object/valid-callable.js"),m=Function.prototype.apply,p=Function.prototype.call,h=Object.create,v=Object.defineProperty,y=Object.defineProperties,j=Object.prototype.hasOwnProperty,_={configurable:!0,enumerable:!1,writable:!0};a={on:n=function(e,t){var r;return f(t),j.call(this,"__ee__")?r=this.__ee__:(r=_.value=h(null),v(this,"__ee__",_),_.value=null),r[e]?"object"===c(r[e])?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},once:s=function(e,t){var r,s;return f(t),s=this,n.call(this,e,r=function(){o.call(s,e,r),m.call(t,this,arguments)}),r.__eeOnceListener__=t,this},off:o=function(e,t){var r,n,s,o;if(f(t),!j.call(this,"__ee__"))return this;if(!(r=this.__ee__)[e])return this;if("object"===(void 0===(n=r[e])?"undefined":c(n)))for(o=0;s=n[o];++o)s!==t&&s.__eeOnceListener__!==t||(2===n.length?r[e]=n[o?0:1]:n.splice(o,1));else n!==t&&n.__eeOnceListener__!==t||delete r[e];return this},emit:i=function(e){var t,r,n,s,o;if(j.call(this,"__ee__")&&(s=this.__ee__[e]))if("object"===(void 0===s?"undefined":c(s))){for(r=arguments.length,o=new Array(r-1),t=1;t<r;++t)o[t-1]=arguments[t];for(s=s.slice(),t=0;n=s[t];++t)m.call(n,this,o)}else switch(arguments.length){case 1:p.call(s,this);break;case 2:p.call(s,this,arguments[1]);break;case 3:p.call(s,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),t=1;t<r;++t)o[t-1]=arguments[t];m.call(s,this,o)}}},u={on:l(n),once:l(s),off:l(o),emit:l(i)},d=y({},u),e.exports=t=function(e){return null==e?h(d):y(Object(e),u)},t.methods=a},"./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/*! exports provided: name, version, description, main, scripts, repository, babel, keywords, author, license, dependencies, peerDependency, devDependencies, default */function(e){e.exports={name:"xgplayer-mp4",version:"1.1.4-alpha.1",description:"xgplayer plugin for mp4 transform to fmp4",main:"./dist/index.js",scripts:{prepare:"npm run build",build:"webpack --progress --display-chunks -p",watch:"webpack --progress --display-chunks -p --watch --mode development"},repository:{type:"git",url:"git@github.com:bytedance/xgplayer.git"},babel:{presets:["es2015"],plugins:["add-module-exports","babel-plugin-bulk-import"]},keywords:["mp4","fmp4","player","video"],author:"yinguohui@bytedance.com",license:"MIT",dependencies:{"babel-loader":"^7.1.4","babel-plugin-add-module-exports":"^0.2.1","babel-plugin-bulk-import":"^1.0.2","babel-preset-es2015":"^6.24.1","concat-typed-array":"^1.0.2",deepmerge:"^2.0.1","event-emitter":"^0.3.5","json-loader":"^0.5.7",webpack:"^4.11.0"},peerDependency:{xgplayer:"^0.1.0"},devDependencies:{"babel-core":"^6.26.3"}}},"./src/error.js":
/*!**********************!*\
  !*** ./src/error.js ***!
  \**********************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(/*! xgplayer */"xgplayer")),s=r(/*! ../package.json */"./package.json");var o=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n.version=s.version;var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n));return i.url=o,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default.Errors),t}();t.default=o,e.exports=t.default},"./src/fmp4/buffer.js":
/*!****************************!*\
  !*** ./src/fmp4/buffer.js ***!
  \****************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(r(/*! concat-typed-array */"./node_modules/concat-typed-array/lib/index.js"));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buffer=new Uint8Array(0)}return n(e,[{key:"write",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach(function(t){t?e.buffer=(0,s.default)(Uint8Array,e.buffer,t):window.console.error(t)})}}],[{key:"writeUint32",value:function(e){return new Uint8Array([e>>24,e>>16&255,e>>8&255,255&e])}}]),e}();t.default=o,e.exports=t.default},"./src/fmp4/mp4.js":
/*!*************************!*\
  !*** ./src/fmp4/mp4.js ***!
  \*************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(r(/*! ./buffer */"./src/fmp4/buffer.js"));var o=Math.pow(2,32)-1,i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"type",value:function(e){return new Uint8Array([e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)])}},{key:"size",value:function(e){return s.default.writeUint32(e)}},{key:"extension",value:function(e,t){return new Uint8Array([e,t>>16&255,t>>8&255,255&t])}},{key:"ftyp",value:function(){var t=new s.default;return t.write(e.size(24),e.type("ftyp"),new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49])),t.buffer}},{key:"moov",value:function(t){console.log("fmp4 data:",t),console.log("timescale: ",t.videoTimeScale),t.videoTimeScale=t.videoTimeScale,t.audioTimeScale=t.audioTimeScale,t.timeScale=t.timeScale,console.log("x2");var r=new s.default,n=8;console.log("add duration");var o=e.mvhd(t.duration,t.timeScale),i=e.videoTrak(t),a=e.audioTrak(t),u=e.mvex(t.duration,t.timeScale);return[o,i,a,u].forEach(function(e){n+=e.byteLength}),r.write(e.size(n),e.type("moov"),o,i,a,u),r.buffer}},{key:"mvhd",value:function(t,r){var n=new s.default;t*=r;var i=Math.floor(t/(o+1)),a=Math.floor(t%(o+1)),u=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n.write(e.size(8+u.length),e.type("mvhd"),new Uint8Array(u)),n.buffer}},{key:"videoTrak",value:function(t){var r=new s.default,n=8,o=e.tkhd({id:1,duration:t.videoDuration,timescale:t.videoTimeScale,width:t.width,height:t.height,type:"video"}),i=e.mdia({type:"video",timescale:t.videoTimeScale,duration:t.videoDuration,sps:t.sps,pps:t.pps,pixelRatio:t.pixelRatio,width:t.width,height:t.height}),a=e.edts({videoTimeScale:t.videoTimeScale,timescale:t.timeScale,duration:t.videoDuration*t.timeScale,mediaTime:-1});return[o,i,a].forEach(function(e){n+=e.byteLength}),r.write(e.size(n),e.type("trak"),o,i,a),r.buffer}},{key:"audioTrak",value:function(t){var r=new s.default,n=8,o=e.tkhd({id:2,duration:t.audioDuration,timescale:t.audioTimeScale,width:0,height:0,type:"audio"}),i=e.mdia({type:"audio",timescale:t.audioTimeScale,duration:t.audioDuration,channelCount:t.channelCount,samplerate:t.sampleRate,audioConfig:t.audioConfig});return[o,i].forEach(function(e){n+=e.byteLength}),r.write(e.size(n),e.type("trak"),o,i),r.buffer}},{key:"tkhd",value:function(t){var r=new s.default,n=t.id,i=t.duration*t.timeScale,a=t.width,u=t.height,d=t.type,c=Math.floor(i/(o+1)),l=Math.floor(i%(o+1)),f=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,c>>24,c>>16&255,c>>8&255,255&c,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,"video"===d?1:0,"audio"===d?1:0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,u>>8&255,255&u,0,0]);return r.write(e.size(8+f.byteLength),e.type("tkhd"),f),r.buffer}},{key:"stsd",value:function(t){var r=new s.default,n=void 0;return n="audio"===t.type?e.mp4a(t):e.avc1(t),r.write(e.size(16+n.byteLength),e.type("stsd"),e.extension(0,0),new Uint8Array([0,0,0,1]),n),r.buffer}},{key:"elst",value:function(t){var r=new s.default,n=t.duration,o=t.mediaTime;console.log("elst: ",t);var i=new Uint8Array([0,0,0,2,10*t.timescale>>24&255,10*t.timescale>>16&255,10*t.timescale>>8&255,10*t.timescale&255,o>>24&255,o>>16&255,o>>8&255,255&o,0,1,0,0,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,0,1,0,0]);return r.write(e.size(12+i.byteLength),e.type("elst"),e.extension(0,0),i),r.buffer}},{key:"edts",value:function(t){console.log("edts: ",t);var r=new s.default,n=e.elst(t);return r.write(e.size(8+n.byteLength),e.type("edts"),n),r.buffer}},{key:"mdia",value:function(t){var r=new s.default,n=8,o=e.mdhd(t.timescale),i=e.hdlr(t.type),a=e.minf(t);return[o,i,a].forEach(function(e){n+=e.byteLength}),r.write(e.size(n),e.type("mdia"),o,i,a),r.buffer}},{key:"mdhd",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new s.default;r*=t;var i=Math.floor(r/(o+1)),a=Math.floor(r%(o+1)),u=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]);return n.write(e.size(12+u.byteLength),e.type("mdhd"),e.extension(1,0),u),n.buffer}},{key:"hdlr",value:function(t){var r=new s.default,n=[0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0];return"audio"===t&&(n.splice.apply(n,[8,4].concat([115,111,117,110])),n.splice.apply(n,[24,13].concat([83,111,117,110,100,72,97,110,100,108,101,114,0]))),r.write(e.size(8+n.length),e.type("hdlr"),new Uint8Array(n)),r.buffer}},{key:"minf",value:function(t){var r=new s.default,n=8,o="video"===t.type?e.vmhd():e.smhd(),i=e.dinf(),a=e.stbl(t);return[o,i,a].forEach(function(e){n+=e.byteLength}),r.write(e.size(n),e.type("minf"),o,i,a),r.buffer}},{key:"vmhd",value:function(){var t=new s.default;return t.write(e.size(20),e.type("vmhd"),new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])),t.buffer}},{key:"smhd",value:function(){var t=new s.default;return t.write(e.size(16),e.type("smhd"),new Uint8Array([0,0,0,0,0,0,0,0])),t.buffer}},{key:"dinf",value:function(){var t=new s.default;return t.write(e.size(36),e.type("dinf"),e.size(28),e.type("dref"),new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1])),t.buffer}},{key:"stbl",value:function(t){var r=new s.default,n=8,o=e.stsd(t),i=e.stts(),a=e.stsc(),u=e.stsz(),d=e.stco();return[o,i,a,u,d].forEach(function(e){n+=e.byteLength}),r.write(e.size(n),e.type("stbl"),o,i,a,u,d),r.buffer}},{key:"mp4a",value:function(t){var r=new s.default,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,t.samplerate>>8&255,255&t.samplerate,0,0]),o=e.esds(t.audioConfig);return r.write(e.size(8+n.byteLength+o.byteLength),e.type("mp4a"),n,o),r.buffer}},{key:"esds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[43,146,8,0],r=t.length,n=new s.default,o=new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(t).concat([6,1,2]));return n.write(e.size(8+o.byteLength),e.type("esds"),o),n.buffer}},{key:"avc1",value:function(t){var r=new s.default,n=t.sps,o=t.pps,i=t.width,a=t.height,u=t.pixelRatio[0],d=t.pixelRatio[1],c=new Uint8Array([1,n[1],n[2],n[3],255,225].concat([n.length>>>8&255,255&n.length]).concat(n).concat(1).concat([o.length>>>8&255,255&o.length]).concat(o)),l=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>8&255,255&i,a>>8&255,255&a,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),f=new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]),m=new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d]);return r.write(e.size(40+l.byteLength+c.byteLength+f.byteLength),e.type("avc1"),l,e.size(8+c.byteLength),e.type("avcC"),c,e.size(20),e.type("btrt"),f,e.size(16),e.type("pasp"),m),r.buffer}},{key:"stts",value:function(){var t=new s.default,r=new Uint8Array([0,0,0,0,0,0,0,0]);return t.write(e.size(16),e.type("stts"),r),t.buffer}},{key:"stsc",value:function(){var t=new s.default,r=new Uint8Array([0,0,0,0,0,0,0,0]);return t.write(e.size(16),e.type("stsc"),r),t.buffer}},{key:"stco",value:function(){var t=new s.default,r=new Uint8Array([0,0,0,0,0,0,0,0]);return t.write(e.size(16),e.type("stco"),r),t.buffer}},{key:"stsz",value:function(){var t=new s.default,r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);return t.write(e.size(20),e.type("stsz"),r),t.buffer}},{key:"mvex",value:function(t,r){var n=new s.default,o=s.default.writeUint32(t*r);return n.write(e.size(88),e.type("mvex"),e.size(16),e.type("mehd"),e.extension(0,0),o,e.trex(1),e.trex(2)),n.buffer}},{key:"trex",value:function(t){var r=new s.default,n=new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return r.write(e.size(8+n.byteLength),e.type("trex"),n),r.buffer}},{key:"moof",value:function(t){console.log("moof:",t);var r=new s.default,n=8,o=e.mfhd(),i=e.traf(t);return[o,i].forEach(function(e){n+=e.byteLength}),r.write(e.size(n),e.type("moof"),o,i),r.buffer}},{key:"mfhd",value:function(){var t=new s.default,r=s.default.writeUint32(e.sequence);return e.sequence+=1,t.write(e.size(16),e.type("mfhd"),e.extension(0,0),r),t.buffer}},{key:"traf",value:function(t){var r=new s.default,n=8,o=e.tfhd(t.id),i=e.tfdt(t.time,t.id),a=e.sdtp(t),u=e.trun(t,a.byteLength);return[o,i,a,u].forEach(function(e){n+=e.byteLength}),r.write(e.size(n),e.type("traf"),o,i,a,u),r.buffer}},{key:"tfhd",value:function(t){var r=new s.default,n=s.default.writeUint32(t);return r.write(e.size(16),e.type("tfhd"),e.extension(0,0),n),r.buffer}},{key:"tfdt",value:function(t,r){console.log("time: ",t),console.log("decode time:",e.videoDecodeTime),console.log("decode time:",e.audioDecodeTime),t=1===r?e.videoDecodeTime:e.audioDecodeTime;var n=new s.default,i=Math.floor(t/(o+1)),a=Math.floor(t%(o+1));return n.write(e.size(20),e.type("tfdt"),e.extension(1,0),s.default.writeUint32(i),s.default.writeUint32(a)),n.buffer}},{key:"trun",value:function(t,r){var n=t.id,o=1===n?16:12,i=new s.default,a=s.default.writeUint32(t.samples.length),u=s.default.writeUint32(96+o*t.samples.length+r);return i.write(e.size(20+o*t.samples.length),e.type("trun"),e.extension(0,t.flags),a,u),t.samples.forEach(function(t,r){i.write(s.default.writeUint32(t.duration)),i.write(s.default.writeUint32(t.size)),1===n?(i.write(s.default.writeUint32(t.key?33554432:16842752)),i.write(s.default.writeUint32(t.offset)),e.videoDecodeTime+=t.duration):(i.write(s.default.writeUint32(16777216)),e.audioDecodeTime+=t.duration)}),i.buffer}},{key:"sdtp",value:function(t){var r=new s.default;return r.write(e.size(12+t.samples.length),e.type("sdtp"),e.extension(0,0)),t.samples.forEach(function(e){r.write(new Uint8Array(1===t.id?[e.key?32:16]:[16]))}),r.buffer}},{key:"mdat",value:function(t){var r=new s.default,n=8;return t.samples.forEach(function(e){n+=e.size}),r.write(e.size(n),e.type("mdat")),t.samples.forEach(function(e){r.write(e.buffer)}),r.buffer}}]),e}();i.sequence=1,i.videoDecodeTime=0,i.audioDecodeTime=0,t.default=i,e.exports=t.default},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r(/*! core-js/modules/es6.promise.js */"./node_modules/core-js/modules/es6.promise.js"),r(/*! core-js/modules/es7.string.pad-start */"./node_modules/core-js/modules/es7.string.pad-start.js");var s=d(r(/*! xgplayer */"xgplayer")),o=d(r(/*! ./mp4 */"./src/mp4.js")),i=d(r(/*! ./media/mse */"./src/media/mse.js")),a=d(r(/*! ./media/task */"./src/media/task.js")),u=d(r(/*! ./fmp4/buffer */"./src/fmp4/buffer.js"));d(r(/*! ./fmp4/mp4 */"./src/fmp4/mp4.js"));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){t.vid=e.config.vid,t.url=e.src,t.errd&&"object"===n(t.errd)&&e.mp4&&(t.errd.url=e.mp4.url,t.url=e.mp4.url,e.mp4.canDownload=!1),e.emit("DATA_REPORT",t),"network"===t.errt&&e.config._backupURL?e.src=e.config._backupURL:e.src=e.config._mainURL,e.switchURL=null,e._replay=null};s.default.install("mp4player",function(){var e=this,t=s.default.sniffer,r=s.default.util,n=s.default.Errors,d=void 0,l=void 0,f=e.config.preloadTime||15,m=void 0,p=e.config.url,h=e.config.pluginRule||function(){return!0};if(p){"String"===r.typeOf(p)?d=p:"Array"===r.typeOf(p)&&p.length&&(d=p[0].src,l=p[1].src),e.config._mainURL=d,e.config._backupURL=l;var v=function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.currentTime;e.timer&&clearTimeout(e.timer),n=Math.max(n,e.currentTime),e.timer=setTimeout(function(){e.mp4.seek(n+.1*r).then(function(t){if(console.log("seek: ",n+.1*r),t){var s=e.mse;s.updating=!0,s.appendBuffer(t),s.once("updateend",function(){s.updating=!1})}},function(){r<10&&setTimeout(function(){t(r+1)},2e3)})},50)},y=function(t){var r=new o.default(t),n=void 0;return new Promise(function(t,s){r.once("moovReady",function(){(n=new i.default).on("sourceopen",function(){n.appendBuffer(r.packMeta()),n.once("updateend",v.bind(e))}),n.on("error",function(e){s(e)}),t([r,n])}),r.on("error",function(e){s(e)})})};if(["chrome","firfox","safari"].some(function(e){return e===t.browser})&&i.default.isSupported('video/mp4; codecs="avc1.64001E, mp4a.40.5"')){var j=e.start;if(!h.call(e))return!1;Object.defineProperty(e,"src",{get:function(){return e.currentSrc},set:function(t){e.config.url=t,e.paused?e.start(t):(e.pause(),e.once("pause",function(){e.start(t)}),e.once("canplay",function(){e.play()})),e.once("canplay",function(){e.currentTime=0})},configurable:!0}),e.start=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;y(r).then(function(t){var r=t[0],n=t[1];j.call(e,n.url),e.mp4=r,e.mse=n,r.on("error",function(t){c(e,t)})},function(t){j.call(e,r),c(e,t)}),e.once("canplay",function(){if("safari"===t.browser&&e.buffered){var r=e.buffered.start(0);e.currentTime=r+.1}})},e.cut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=new u.default,n=new o.default(p);return new Promise(function(o,i){n.once("moovReady",function(){(!t||t<=e)&&(t=e+15),t>n.meta.duration&&(e=n.meta.duration-(t-e),t=n.meta.duration),n.cut(e,t).then(function(i){if(i){var a=s.default.util.deepCopy({duration:t-e,audioDuration:t-e,endTime:t-e},n.meta);a.duration=t-e,a.videoDuration=t-e,a.audioDuration=t-e,a.endTime=t-e,r.write(n.packMeta(a),i),o(new Blob([r.buffer],{type:'video/mp4; codecs="avc1.64001E, mp4a.40.5"'}))}})}),n.on("error",function(e){i(e)})})},e.switchURL=function(r){var n=new o.default(r),s=e.mp4;n.on("moovReady",function(){s.timeRage;var r=e.currentTime,o=s.timeRage.find(function(e){return e[0]-r>2})[0],i=e.getBufferedRange()[1];i-o>0&&"safari"!==t.browser&&e.mse.removeBuffer(o,i),e.mp4=n,e.mse.appendBuffer(n.packMeta())}),n.on("error",function(t){c(e,t)})},e.on("timeupdate",function(){var t=e.mse,r=e.mp4;if(t&&!t.updating&&r.canDownload){var n=r.timeRage,s=e.getBufferedRange(),o=e.currentTime+f;if(s[1]-o>0)return;n.every(function(e,t){var n=(e[0]+e[1])/2;return 0===s[1]?(v(5),!1):!(n>s[1]&&!r.bufferCache.has(t))||void v(0,n)}),function(e,t){if(t.meta.endTime-e.currentTime<2){var r=e.getBufferedRange();e.currentTime-r[1]<.1&&e.mse.endOfStream()}}(e,r)}}),e.on("seeking",function(){var t=e.buffered,r=!1,n=e.currentTime;if(a.default.clear(),t.length){for(var s=0,o=t.length;s<o;s++)if(n>=t.start(s)&&n<=t.end(s)){r=!0;break}r||v(0,n)}else v(0,e.currentTime)}),e.on("pause",function(){a.default.clear()}),e.on("playing",function(){m&&clearTimeout(m)}),e.on("waiting",function(){var t=e.mp4;if(t&&t.meta){var r=e.getBufferedRange(),n=t.meta.videoDuration;n-e.currentTime<.5&&n-r[1]<.5?e.mse.endOfStream():(v(0,r[1]+1),m=setTimeout(function(){for(var t=e.buffered,r=void 0,n=0,s=t.length;n<s;n++)if((r=t.start(n))>=e.currentTime){e.currentTime=r;break}},1500))}}),e.once("destroy",function(){a.default.clear(),e.timer&&clearTimeout(e.timer)}),e._replay=function(){a.default.clear(),e.mp4.bufferCache.clear(),y(e.mp4.url).then(function(t){var r=t[0],n=t[1];e.src=n.url,e.mp4=r,e.mse=n,e.currentTime=0,e.play()},function(t){c(e,t)})}}}else e.emit("error",new n("other",e.config.vid))})},"./src/media/mse.js":
/*!**************************!*\
  !*** ./src/media/mse.js ***!
  \**************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=i(r(/*! event-emitter */"./node_modules/event-emitter/index.js")),o=i(r(/*! ../error */"./src/error.js"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'video/mp4; codecs="avc1.64001E, mp4a.40.5"';!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=this;(0,s.default)(this),this.codecs=t,this.mediaSource=new window.MediaSource,this.url=window.URL.createObjectURL(this.mediaSource),this.queue=[],this.updating=!1,this.mediaSource.addEventListener("sourceopen",function(){r.sourceBuffer=r.mediaSource.addSourceBuffer(r.codecs),r.sourceBuffer.addEventListener("error",function(e){r.emit("error",new o.default("mse","",{line:16,handle:"[MSE] constructor sourceopen",msg:e.message}))}),r.sourceBuffer.addEventListener("updateend",function(e){r.emit("updateend");var t=r.queue.shift();t&&r.sourceBuffer.appendBuffer(t)}),r.emit("sourceopen")}),this.mediaSource.addEventListener("sourceclose",function(){r.emit("sourceclose")})}return n(e,[{key:"appendBuffer",value:function(e){var t=this.sourceBuffer;return!1===t.updating&&"open"===this.state?(t.appendBuffer(e),!0):(this.queue.push(e),!1)}},{key:"removeBuffer",value:function(e,t){this.sourceBuffer.remove(e,t)}},{key:"endOfStream",value:function(){"open"===this.state&&this.mediaSource.endOfStream()}},{key:"state",get:function(){return this.mediaSource.readyState}},{key:"duration",get:function(){return this.mediaSource.duration},set:function(e){this.mediaSource.duration=e}}],[{key:"isSupported",value:function(e){return window.MediaSource&&window.MediaSource.isTypeSupported(e)}}]),e}();t.default=a,e.exports=t.default},"./src/media/task.js":
/*!***************************!*\
  !*** ./src/media/task.js ***!
  \***************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=i(r(/*! event-emitter */"./node_modules/event-emitter/index.js")),o=i(r(/*! ../error */"./src/error.js"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,s.default)(this),this.url=t,this.range=r,this.id=r.join("-"),this.on=!1;var i=new window.XMLHttpRequest;i.target=this,i.responseType="arraybuffer",i.open("get",t),i.setRequestHeader("Range","bytes="+r[0]+"-"+r[1]),i.onload=function(){200!==i.status&&206!==i.status||n&&n instanceof Function&&n(i.response),i.target.remove()},i.onerror=function(e){i.target.emit("error",new o.default("network","",{line:25,handle:"[Task] constructor",msg:e.message,url:t})),i.target.remove()},i.onabort=function(){i.target.remove()},this.xhr=i,e.queue.push(this),this.update()}return n(e,[{key:"cancel",value:function(){this.xhr.abort()}},{key:"remove",value:function(){var t=this;e.queue.filter(function(r,n){return r.url===t.url&&r.id===t.id&&(e.queue.splice(n,1),!0)}),this.update()}},{key:"update",value:function(){var t=e.queue,r=t.filter(function(e){return e.on}),n=t.filter(function(e){return!e.on}),s=e.limit-r.length;n.forEach(function(e,t){t<s&&e.run()})}},{key:"run",value:function(){1===this.xhr.readyState?(this.on=!0,this.xhr.send()):this.remove()}}],[{key:"clear",value:function(){e.queue.forEach(function(e){e.on&&e.cancel()}),e.queue.length=0}}]),e}();a.queue=[],a.limit=2,window.Task=a,t.default=a,e.exports=t.default},"./src/mp4.js":
/*!********************!*\
  !*** ./src/mp4.js ***!
  \********************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=f(r(/*! event-emitter */"./node_modules/event-emitter/index.js")),o=f(r(/*! deepmerge */"./node_modules/deepmerge/dist/es.js")),i=f(r(/*! ./parse */"./src/parse/index.js")),a=f(r(/*! ./fmp4/buffer */"./src/fmp4/buffer.js")),u=f(r(/*! ./fmp4/mp4 */"./src/fmp4/mp4.js")),d=f(r(/*! ./media/task */"./src/media/task.js")),c=(f(r(/*! ./util/download */"./src/util/download.js")),f(r(/*! ./util */"./src/util/index.js"))),l=f(r(/*! ./error */"./src/error.js"));r(/*! core-js/modules/_export */"./node_modules/core-js/modules/_export.js");function f(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.pow(25,4);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,s.default)(this),this.url=t,console.log("get mp4:",t),this.CHUNK_SIZE=r,this.init(t),this.once("moovReady",this.moovParse.bind(this)),this.cache=new a.default,this.bufferCache=new Set,this.timeRage=[],this.canDownload=!0}return n(e,[{key:"getData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t+this.CHUNK_SIZE,n=this;return new Promise(function(s,o){new d.default(e.url,[t,r],s).once("error",function(e){n.emit("error",e)})})}},{key:"moovParse",value:function(){var e=this,t=this,r=this.moovBox,n=c.default.findBox(r,"mvhd"),s=void 0,i=void 0,a=void 0,u=void 0,d=void 0,f=void 0,m=void 0,p=void 0,h=void 0,v=void 0,y=void 0,j=void 0,_=void 0,b=void 0;c.default.findBox(r,"trak").forEach(function(e){var r=c.default.findBox(e,"hdlr"),n=c.default.findBox(e,"mdhd");if(r&&n){var o=c.default.findBox(e,"stsd").subBox[0];if("vide"===r.handleType){var x=c.default.findBox(e,"avcC"),g=c.default.findBox(e,"tkhd");s=e,d=n.timescale,x?(a=o.type+"."+c.default.toHex(x.profile,x.profileCompatibility,x.AVCLevelIndication).join(""),m=x.sequence&&x.sequence.map(function(e){return Number("0x"+e)}),p=x.pps&&x.pps.map(function(e){return Number("0x"+e)}),h=x.profile):a=""+o.type,g&&(v=g.width,y=g.height)}if("soun"===r.handleType){i=e;var w=c.default.findBox(e,"esds"),k=c.default.findBox(e,"mp4a"),U=c.default.findBox(e,5);f=n.timescale,u=w?o.type+"."+c.default.toHex(w.subBox[0].subBox[0].typeID)+"."+w.subBox[0].subBox[0].subBox[0].type:""+o.type,U&&U.EScode&&(b=U.EScode.map(function(e){return Number("0x"+e)})),k&&(j=k.channelCount,_=k.sampleRate)}}else t.emit("error",new l.default("parse","",{line:72,handle:"[MP4] moovParse",url:t.url}))}),this.videoTrak=(0,o.default)({},s),this.audioTrak=(0,o.default)({},i);var x=this._boxes.find(function(e){return"mdat"===e.type}),g=c.default.seekTrakDuration(s,d),w=c.default.seekTrakDuration(i,f);this.mdatStart=x.start;var k=this.videoKeyFrames,U=k.length-1;k.forEach(function(t,r){r<U?e.timeRage.push([t.time.time/d,k[r+1].time.time/d]):e.timeRage.push([t.time.time/d,-1])}),this.meta={videoCodec:a,audioCodec:u,createTime:n.createTime,modifyTime:n.modifyTime,duration:n.duration/n.timeScale,timeScale:n.timeScale,videoDuration:g,videoTimeScale:d,audioDuration:w,audioTimeScale:f,endTime:Math.min(g,w),sps:m,pps:p,width:v,height:y,profile:h,pixelRatio:[1,1],channelCount:j,sampleRate:_,audioConfig:b},console.log("boxes:",this._boxes),console.log("meta:",this.meta)}},{key:"init",value:function(){var e=this;e.getData().then(function(t){var r=void 0,n=0,s=void 0,o=void 0;try{r=new i.default(t)}catch(t){return e.emit("error",t.type?t:new l.default("parse","",{line:176,handle:"[MP4] init",msg:t.message})),!1}if(e._boxes=o=r.boxes,o.every(function(t){return n+=t.size,"moov"!==t.type||(s=t,e.moovBox=s,e.emit("moovReady",s),!1)}),!s){var a=r.nextBox;a?"moov"===a.type?e.getData(n,n+a.size+28).then(function(t){var r=new i.default(t);e._boxes=e._boxes.concat(r.boxes),(s=r.boxes.filter(function(e){return"moov"===e.type})).length?(e.moovBox=s[0],e.emit("moovReady",s)):e.emit("error",new l.default("parse","",{line:203,handle:"[MP4] init",msg:"not find moov box"}))}):e.emit("error",new l.default("parse","",{line:207,handle:"[MP4] init",msg:"not find moov box"})):e.getData(n,"").then(function(t){var r=new i.default(t);r?(e._boxes=e._boxes.concat(r.boxes),r.boxes.every(function(t){return"moov"!==t.type||(s=t,e.moovBox=s,e.emit("moovReady",s),!1)})):e.emit("error",new l.default("parse","",{line:225,handle:"[MP4] init",msg:"not find moov box"}))})}}).catch(function(){e.emit("error",new l.default("network","",{line:231,handle:"[MP4] getData",msg:"getData failed"}))})}},{key:"getSamplesByOrders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"video",t=arguments[1],r=arguments[2],n="video"===e?this.videoTrak:this.audioTrak,s=c.default.findBox(n,"stsc"),o=c.default.findBox(n,"stsz"),i=c.default.findBox(n,"stts"),a=c.default.findBox(n,"stco"),u=c.default.findBox(n,"ctts"),d=this.mdatStart,l=[];if(r=void 0!==r?r:o.entries.length,t instanceof Array)t.forEach(function(e,t){l.push({idx:e,size:o.entries[e],time:c.default.seekSampleTime(i,u,e),offset:c.default.seekSampleOffset(s,a,o,e,d)})});else if(0!==r)for(var f=t;f<r;f++)l.push({idx:f,size:o.entries[f],time:c.default.seekSampleTime(i,u,f),offset:c.default.seekSampleOffset(s,a,o,f,d)});else l={idx:t,size:o.entries[t],time:c.default.seekSampleTime(i,u,t),offset:c.default.seekSampleOffset(s,a,o,t,d)};return l}},{key:"packMeta",value:function(){if(this.meta){var e=new a.default;return e.write(u.default.ftyp()),e.write(u.default.moov(this.meta)),this.cache.write(e.buffer),e.buffer}}},{key:"seek",value:function(e){var t=e*this.meta.videoTimeScale,r=void 0,n=this.videoKeyFrames,s=this.audioKeyFrames;return n.every(function(e,s){var o=e.time.time,i=n[s+1]?n[s+1].time.time:Number.MAX_SAFE_INTEGER;return!(o<=t&&t<i)||(r=s,!1)}),s.every(function(e,n){var o=e.startTime,i=s[n+1]?s[n+1].startTime:Number.MAX_SAFE_INTEGER;return!(o<=t&&t<i)||(r=Math.min(n,r),!1)}),this.bufferCache.has(r)?Promise.resolve(null):this.loadFragment(r)}},{key:"loadFragment",value:function(e){var t,r=void 0,n=this.videoKeyFrames[e],s=this.getSamplesByOrders("audio",this.audioKeyFrames[e].order,0);if(t=Math.min(n.offset,s.offset),e<this.videoKeyFrames.length-1){var o=this.videoKeyFrames[e+1],i=this.getSamplesByOrders("audio",this.audioKeyFrames[e+1].order,0);r=Math.max(o.offset,i.offset)}var a=this;return window.isNaN(t)||void 0!==r&&window.isNaN(r)?(a.emit("error",new l.default("parse","",{line:366,handle:"[MP4] loadFragment",url:a.url})),!1):this.bufferCache.has(e)?Promise.resolve(null):this.getData(t+a.mdatStart,r?a.mdatStart+r:"").then(function(r){return a.createFragment(new Uint8Array(r),t,e)})}},{key:"addFragment",value:function(t){if(!(e.isAdded>1)){e.isAdded++;var r=new a.default;return r.write(u.default.moof(t)),r.write(u.default.mdat(t)),this.cache.write(r.buffer),r.buffer}}},{key:"createFragment",value:function(e,t,r){console.log("fragment: ",this);var n=[];this.bufferCache.add(r);var s=this.videoKeyFrames.map(function(e){return e.idx}),o=this.getSamplesByOrders("video",s[r],s[r+1]),i=o.map(function(r,n){return{size:r.size,duration:r.time.duration,offset:r.time.offset,dts:r.time.time,pts:r.time.time+r.time.offset,buffer:new Uint8Array(e.slice(r.offset-t,r.offset-t+r.size)),key:0===n}});console.log("current time: ",o[0].time.time),n.push(this.addFragment({id:1,time:o[0].time.time,firstFlags:33554432,flags:3841,samples:i}));var a=this.getSamplesByOrders("audio",this.audioKeyFrames[r].order,this.audioKeyFrames[r+1]?this.audioKeyFrames[r+1].order:void 0),u=a.map(function(r,n){return{size:r.size,duration:r.time.duration,offset:r.time.offset,dts:r.time.time,pts:r.time.time+r.time.offset,buffer:new Uint8Array(e.slice(r.offset-t,r.offset-t+r.size)),key:0===n}});n.push(this.addFragment({id:2,time:a[0].time.time,firstFlags:0,flags:1793,samples:u}));var d=0;n.every(function(e){return d+=e.byteLength,!0});var c=new Uint8Array(d),l=0;return n.every(function(e){return c.set(e,l),l+=e.byteLength,!0}),Promise.resolve(c)}},{key:"download",value:function(){}},{key:"cut",value:function(e,t){this.bufferCache.clear();var r=e*this.meta.videoTimeScale,n=t*this.meta.videoTimeScale,s=void 0,o=void 0,i=this.videoKeyFrames,a=this.audioKeyFrames;return i.every(function(e,t){var a=e.time.time,u=i[t+1]?i[t+1].time.time:Number.MAX_SAFE_INTEGER;return a<=r&&r<u?(s=t,!0):!(a<=n&&n<u)||(o=t,!1)}),a.every(function(e,t){var i=e.startTime,u=a[t+1]?a[t+1].startTime:Number.MAX_SAFE_INTEGER;return i<=r&&r<u?(s=Math.min(t,s),!0):!(i<=n&&n<u)||(o=Math.min(t,o),!1)}),o||(o=i.length),this.loadFragmentForCut(s,o)}},{key:"loadFragmentForCut",value:function(e,t){var r,n,s=this.videoKeyFrames[e],o=this.getSamplesByOrders("audio",this.audioKeyFrames[e].order,0);r=Math.min(s.offset,o.offset);var i=this.videoKeyFrames[t],a=this.getSamplesByOrders("audio",this.audioKeyFrames[t].order,0);n=Math.max(i.offset,a.offset);var u=this;return window.isNaN(r)||void 0!==n&&window.isNaN(n)?(u.emit("error",new l.default("parse","",{line:366,handle:"[MP4] loadFragment",url:u.url})),!1):this.getData(r+u.mdatStart,n?u.mdatStart+n:"").then(function(s){return u.createFragmentForCut(new Uint8Array(s),r,e,n,t)})}},{key:"createFragmentForCut",value:function(e,t,r,n,s){var o=[],i=this.videoKeyFrames.map(function(e){return e.idx}),a=this.getSamplesByOrders("video",i[r],i[s]).map(function(r,n){return{size:r.size,duration:r.time.duration,offset:r.time.offset,buffer:new Uint8Array(e.slice(r.offset-t,r.offset-t+r.size)),key:0===n}});o.push(this.addFragment({id:1,time:0,firstFlags:33554432,flags:3841,samples:a}));var u=this.getSamplesByOrders("audio",this.audioKeyFrames[r].order,this.audioKeyFrames[s]?this.audioKeyFrames[s].order:void 0).map(function(r,n){return{size:r.size,duration:r.time.duration,offset:r.time.offset,buffer:new Uint8Array(e.slice(r.offset-t,r.offset-t+r.size)),key:0===n}});o.push(this.addFragment({id:2,time:0,firstFlags:0,flags:1793,samples:u}));var d=0;o.every(function(e){return d+=e.byteLength,!0});var c=new Uint8Array(d),l=0;return o.every(function(e){return c.set(e,l),l+=e.byteLength,!0}),Promise.resolve(c)}},{key:"videoKeyFrames",get:function(){if(this._videoFrames)return this._videoFrames;var e=this.videoTrak,t=c.default.findBox(e,"stss"),r=this.getSamplesByOrders("video",t.entries.map(function(e){return e-1}));return this._videoFrames=r,r}},{key:"audioKeyFrames",get:function(){if(this._audioFrames)return this._audioFrames;var e,t=c.default.findBox(this.videoTrak,"mdhd").timescale,r=c.default.findBox(this.audioTrak,"mdhd").timescale,n=c.default.findBox(this.audioTrak,"stts").entry;return e=this.videoKeyFrames.map(function(e){return c.default.seekOrderSampleByTime(n,r,e.time.time/t)}),this._audioFrames=e,this._audioFrames}}]),e}();m.isAdded=0,t.default=m,e.exports=t.default},"./src/parse/box.js":
/*!**************************!*\
  !*** ./src/parse/box.js ***!
  \**************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=i(r(/*! ./stream */"./src/parse/stream.js")),o=i(r(/*! ../error */"./src/error.js"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.headSize=8,this.size=0,this.type="",this.subBox=[],this.start=-1}return n(e,[{key:"readHeader",value:function(e){if(this.start=e.position,this.size=e.readUint32(),this.type=String.fromCharCode(e.readUint8(),e.readUint8(),e.readUint8(),e.readUint8()),1===this.size)this.size=e.readUint64();else if(0===this.size&&"mdat"!==this.type)throw new o.default("parse","",{line:19,handle:"[Box] readHeader",msg:"parse mp4 mdat box failed"});if("uuid"===this.type)for(var t=[],r=0;r<16;r++)t.push(e.readUint8())}},{key:"readBody",value:function(t){var r=this.size-t.position+this.start,n=this.type;this.data=t.buffer.slice(t.position,t.position+r),t.position+=this.data.byteLength;var s=void 0;(s=e.containerBox.find(function(e){return e===n})?e.containerParser:e[n])&&s instanceof Function&&s.call(this)}},{key:"read",value:function(e){this.readHeader(e),this.readBody(e)}}],[{key:"containerParser",value:function(){for(var t=new s.default(this.data),r=t.buffer.byteLength;t.position<r;){var n=new e;n.readHeader(t),this.subBox.push(n),n.readBody(t)}delete this.data,t=null}}]),e}();a.containerBox=["moov","trak","edts","mdia","minf","dinf","stbl","mvex","moof","traf","mfra"],t.default=a,e.exports=t.default},"./src/parse/box/MP4DecConfigDescrTag.js":
/*!***********************************************!*\
  !*** ./src/parse/box/MP4DecConfigDescrTag.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.MP4DecConfigDescrTag=function(e){var t=new n.default,r=void 0;return t.type=e.readUint8(),128===(r=e.readUint8())?(t.extend=!0,e.skip(2),r=e.readUint8()+5):r+=2,t.size=r,t.typeID=e.readUint8(),t.streamUint=e.readUint8(),t.bufferSize=s.default.readByte(e.dataview,3),t.maximum=e.readUint32(),t.average=e.readUint32(),t.subBox.push(n.default.MP4DecSpecificDescrTag(e)),t}},"./src/parse/box/MP4DecSpecificDescrTag.js":
/*!*************************************************!*\
  !*** ./src/parse/box/MP4DecSpecificDescrTag.js ***!
  \*************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(r(/*! ../box */"./src/parse/box.js"));n.default.MP4DecSpecificDescrTag=function(e){var t=new n.default,r=void 0,s=void 0;t.type=e.readUint8(),128===(r=e.readUint8())?(t.extend=!0,e.skip(2),s=(r=e.readUint8()+5)-5):(s=r,r+=2),t.size=r;for(var o=[],i=0;i<s;i++)o.push(Number(e.readUint8()).toString(16).padStart(2,"0"));return t.EScode=o,delete t.subBox,t}},"./src/parse/box/MP4ESDescrTag.js":
/*!****************************************!*\
  !*** ./src/parse/box/MP4ESDescrTag.js ***!
  \****************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(r(/*! ../box */"./src/parse/box.js"));n.default.MP4ESDescrTag=function(e){var t=new n.default,r=void 0;return t.type=e.readUint8(),128===(r=e.readUint8())?(t.extend=!0,e.skip(2),r=e.readUint8()+5):r+=2,t.size=r,t.esID=e.readUint16(),t.priority=e.readUint8(),t.subBox.push(n.default.MP4DecConfigDescrTag(e)),t.subBox.push(n.default.SLConfigDescriptor(e)),t}},"./src/parse/box/SLConfigDescriptor.js":
/*!*********************************************!*\
  !*** ./src/parse/box/SLConfigDescriptor.js ***!
  \*********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(r(/*! ../box */"./src/parse/box.js"));n.default.SLConfigDescriptor=function(e){var t=new n.default,r=void 0;return t.type=e.readUint8(),128===(r=e.readUint8())?(t.extend=!0,e.skip(2),r=e.readUint8()+5):r+=2,t.size=r,t.SL=e.readUint8(),delete t.subBox,t}},"./src/parse/box/avc1.js":
/*!*******************************!*\
  !*** ./src/parse/box/avc1.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.avc1=function(){var e=new s.default(this.data);e.skip(6),this.dataReferenceIndex=e.readUint16(),e.skip(16),this.width=e.readUint16(),this.height=e.readUint16(),this.horizresolution=e.readUint32(),this.vertresolution=e.readUint32(),e.skip(4),this.frameCount=e.readUint16(),e.skip(1);for(var t=0;t<31;t++)String.fromCharCode(e.readUint8());for(this.depth=e.readUint16(),e.skip(2);e.position<e.buffer.byteLength;){var r=new n.default;r.readHeader(e),this.subBox.push(r),r.readBody(e)}delete this.data,e=null}},"./src/parse/box/avcC.js":
/*!*******************************!*\
  !*** ./src/parse/box/avcC.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.avcC=function(){var e=new s.default(this.data);this.configVersion=e.readUint8(),this.profile=e.readUint8(),this.profileCompatibility=e.readUint8(),this.AVCLevelIndication=e.readUint8(),this.lengthSizeMinusOne=1+(3&e.readUint8()),this.numOfSequenceParameterSets=31&e.readUint8();var t=e.readUint16();this.sequenceLength=t;for(var r=[],n=0;n<t;n++)r.push(Number(e.readUint8()).toString(16));this.ppsCount=e.readUint8();var o=e.readUint16();this.ppsLength=o;for(var i=[],a=0;a<o;a++)i.push(Number(e.readUint8()).toString(16));this.pps=i,this.sequence=r;for(var u=[],d=e.dataview.byteLength;e.position<d;)u.push(e.readUint8());this.last=u,delete this.subBox,delete this.data,e=null}},"./src/parse/box/btrt.js":
/*!*******************************!*\
  !*** ./src/parse/box/btrt.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.btrt=function(){var e=new s.default(this.data);this.bufferSizeDB=e.readUint32(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32(),delete this.subBox,delete this.data,e=null}},"./src/parse/box/co64.js":
/*!*******************************!*\
  !*** ./src/parse/box/co64.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.co64=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),this.count=e.readUint32();var t=[];this.entries=t;for(var r=0,n=this.count;r<n;r++)t.push(e.readUint64());delete this.subBox,delete this.data,e=null}},"./src/parse/box/ctts.js":
/*!*******************************!*\
  !*** ./src/parse/box/ctts.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.ctts=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),this.entryCount=e.readUint32();var t=[];this.entry=t;for(var r=0,n=this.entryCount;r<n;r++)t.push({count:e.readUint32(),offset:e.readUint32()});delete this.subBox,delete this.data,e=null}},"./src/parse/box/dref.js":
/*!*******************************!*\
  !*** ./src/parse/box/dref.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.dref=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3);var t=e.readUint32();this.entryCount=t;for(var r=0;r<t;r++){var o=new n.default;this.subBox.push(o),o.read(e)}delete this.data,e=null}},"./src/parse/box/elst.js":
/*!*******************************!*\
  !*** ./src/parse/box/elst.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.elst=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3);var t=[],r=e.readUint32();this.entries=t;for(var n=0;n<r;n++){var o={};t.push(o),1===this.version?(o.segment_duration=e.readUint64(),o.media_time=e.readUint64()):(o.segment_duration=e.readUint32(),o.media_time=e.readInt32()),o.media_rate_integer=e.readInt16(),o.media_rate_fraction=e.readInt16()}delete this.subBox,delete this.data,e=null}},"./src/parse/box/esds.js":
/*!*******************************!*\
  !*** ./src/parse/box/esds.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.esds=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3);var t=n.default.MP4ESDescrTag(e);this.subBox.push(t),delete this.data,e=null}},"./src/parse/box/ftyp.js":
/*!*******************************!*\
  !*** ./src/parse/box/ftyp.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.ftyp=function(){var e=new s.default(this.data);this.major_brand=String.fromCharCode(e.readUint8(),e.readUint8(),e.readUint8(),e.readUint8()),this.minor_version=e.readUint32();for(var t=[],r=0,n=Math.floor((e.buffer.byteLength-8)/4);r<n;r++)t.push(String.fromCharCode(e.readUint8(),e.readUint8(),e.readUint8(),e.readUint8()));this.compatible_brands=t,e=null,delete this.subBox,delete this.data}},"./src/parse/box/hdlr.js":
/*!*******************************!*\
  !*** ./src/parse/box/hdlr.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.hdlr=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),e.skip(4),this.handleType=""+String.fromCharCode(e.readUint8())+String.fromCharCode(e.readUint8())+String.fromCharCode(e.readUint8())+String.fromCharCode(e.readUint8()),e.skip(12);for(var t=[];e.position<this.size-8;)t.push(String.fromCharCode(e.readUint8()));this.name=t.join(""),delete this.subBox,delete this.data,e=null}},"./src/parse/box/hmhd.js":
/*!*******************************!*\
  !*** ./src/parse/box/hmhd.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict"},"./src/parse/box/iods.js":
/*!*******************************!*\
  !*** ./src/parse/box/iods.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.iods=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3);for(var t=[],r=e.buffer.byteLength;e.position<r;)t.push(e.readUint8());this.content=t,delete this.subBox,delete this.data,e=null}},"./src/parse/box/mdat.js":
/*!*******************************!*\
  !*** ./src/parse/box/mdat.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(r(/*! ../box */"./src/parse/box.js")).default.mdat=function(){delete this.subBox}},"./src/parse/box/mdhd.js":
/*!*******************************!*\
  !*** ./src/parse/box/mdhd.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=i(r(/*! ../box */"./src/parse/box.js")),s=i(r(/*! ../stream */"./src/parse/stream.js")),o=i(r(/*! ../date */"./src/parse/date.js"));function i(e){return e&&e.__esModule?e:{default:e}}n.default.mdhd=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),1===this.version?(this.create=e.readUint64(),this.modify=e.readUint64(),this.createTime=(new o.default).setTime(1e3*this.create),this.modifyTime=(new o.default).setTime(1e3*this.modify),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.create=e.readUint32(),this.modify=e.readUint32(),this.createTime=(new o.default).setTime(1e3*this.create),this.modifyTime=(new o.default).setTime(1e3*this.modify),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.language=e.readUint16(),e.readUint16(),delete this.subBox,delete this.data,e=null}},"./src/parse/box/mfhd.js":
/*!*******************************!*\
  !*** ./src/parse/box/mfhd.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict"},"./src/parse/box/mp4a.js":
/*!*******************************!*\
  !*** ./src/parse/box/mp4a.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.mp4a=function(){var e=new s.default(this.data);e.skip(6),this.dataReferenceIndex=e.readUint16(),e.skip(8),this.channelCount=e.readUint16(),this.sampleSize=e.readUint16(),e.skip(4),this.sampleRate=e.readUint32()>>16;var t=new n.default;t.readHeader(e),this.subBox.push(t),t.readBody(e),delete this.data,e=null}},"./src/parse/box/mvhd.js":
/*!*******************************!*\
  !*** ./src/parse/box/mvhd.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=i(r(/*! ../box */"./src/parse/box.js")),s=i(r(/*! ../stream */"./src/parse/stream.js")),o=i(r(/*! ../date */"./src/parse/date.js"));function i(e){return e&&e.__esModule?e:{default:e}}n.default.mvhd=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),this.create=e.readUint32(),this.modify=e.readUint32(),this.createTime=(new o.default).setTime(1e3*this.create),this.modifyTime=(new o.default).setTime(1e3*this.modify),this.timeScale=e.readUint32(),this.duration=e.readUint32(),this.rate=e.readUint16()+"."+e.readUint16(),this.volume=e.readUint8()+"."+e.readUint8(),s.default.readByte(e.dataview,8),s.default.readByte(e.dataview,2);for(var t=[],r=0;r<9;r++)t.push(e.readUint16()+"."+e.readUint16());this.matrix=t,s.default.readByte(e.dataview,24),this.nextTrackID=e.readUint32(),delete this.subBox,delete this.data}},"./src/parse/box/nmhd.js":
/*!*******************************!*\
  !*** ./src/parse/box/nmhd.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict"},"./src/parse/box/pasp.js":
/*!*******************************!*\
  !*** ./src/parse/box/pasp.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.pasp=function(){var e=new s.default(this.data);this.content=e.buffer.slice(0,this.size-8),delete this.subBox,delete this.data,e=null}},"./src/parse/box/sbgp.js":
/*!*******************************!*\
  !*** ./src/parse/box/sbgp.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict"},"./src/parse/box/sdtp.js":
/*!*******************************!*\
  !*** ./src/parse/box/sdtp.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict"},"./src/parse/box/smhd.js":
/*!*******************************!*\
  !*** ./src/parse/box/smhd.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.smhd=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),this.balance=e.readInt8()+"."+e.readInt8(),delete this.subBox,delete this.data,e=null}},"./src/parse/box/stco.js":
/*!*******************************!*\
  !*** ./src/parse/box/stco.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.stco=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),this.count=e.readUint32();var t=[];this.entries=t;for(var r=0,n=this.count;r<n;r++)t.push(e.readUint32());delete this.subBox,delete this.data,e=null}},"./src/parse/box/stsc.js":
/*!*******************************!*\
  !*** ./src/parse/box/stsc.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.stsc=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),this.count=e.readUint32();var t=[];this.entries=t;for(var r=0,n=this.count;r<n;r++)t.push({first_chunk:e.readUint32(),samples_per_chunk:e.readUint32(),sample_desc_index:e.readUint32()});for(var o,i,a=0,u=this.count;a<u-1;a++)o=t[a],i=t[a-1],o.chunk_count=t[a+1].first_chunk-o.first_chunk,o.first_sample=0===a?1:i.first_sample+i.chunk_count*i.samples_per_chunk;if(1===this.count){var d=t[0];d.first_sample=1,d.chunk_count=0}else if(this.count>1){var c=t[this.count-1],l=t[this.count-2];c.first_sample=l.first_sample+l.chunk_count*l.samples_per_chunk,c.chunk_count=0}delete this.subBox,delete this.data,e=null}},"./src/parse/box/stsd.js":
/*!*******************************!*\
  !*** ./src/parse/box/stsd.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.stsd=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),this.entryCount=e.readUint32();var t=new n.default;t.readHeader(e),this.subBox.push(t),t.readBody(e),delete this.data,e=null}},"./src/parse/box/stsh.js":
/*!*******************************!*\
  !*** ./src/parse/box/stsh.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict"},"./src/parse/box/stss.js":
/*!*******************************!*\
  !*** ./src/parse/box/stss.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.stss=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),this.count=e.readUint32();var t=[];this.entries=t;for(var r=0,n=this.count;r<n;r++)t.push(e.readUint32());delete this.subBox,delete this.data,e=null}},"./src/parse/box/stsz.js":
/*!*******************************!*\
  !*** ./src/parse/box/stsz.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.stsz=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),this.sampleSize=e.readUint32(),this.count=e.readUint32();var t=[];if(this.entries=t,console.log("-----------------"),console.log("sample size:",this.sampleSize),0===this.sampleSize)for(var r=0,n=this.count;r<n;r++)t.push(e.readUint32());console.log("entries:",t),delete this.subBox,delete this.data,e=null}},"./src/parse/box/stts.js":
/*!*******************************!*\
  !*** ./src/parse/box/stts.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.stts=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3),this.count=e.readUint32();for(var t=[],r=0,n=this.count;r<n;r++)t.push({sampleCount:e.readUint32(),sampleDuration:e.readUint32()});this.entry=t,delete this.subBox,delete this.data,e=null}},"./src/parse/box/stz2.js":
/*!*******************************!*\
  !*** ./src/parse/box/stz2.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict"},"./src/parse/box/tfhd.js":
/*!*******************************!*\
  !*** ./src/parse/box/tfhd.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict"},"./src/parse/box/tkhd.js":
/*!*******************************!*\
  !*** ./src/parse/box/tkhd.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=i(r(/*! ../box */"./src/parse/box.js")),s=i(r(/*! ../stream */"./src/parse/stream.js")),o=i(r(/*! ../date */"./src/parse/date.js"));function i(e){return e&&e.__esModule?e:{default:e}}n.default.tkhd=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=s.default.readByte(e.dataview,3,0),1===this.version?(this.create=e.readUint64(),this.modify=e.readUint64(),this.createTime=(new o.default).setTime(1e3*this.create),this.modifyTime=(new o.default).setTime(1e3*this.modify),this.trackID=e.readUint32(),this.reserverd=e.readUint32(),this.duration=e.readUint64()):(this.create=e.readUint32(),this.modify=e.readUint32(),this.createTime=(new o.default).setTime(1e3*this.create),this.modifyTime=(new o.default).setTime(1e3*this.modify),this.trackID=e.readUint32(),this.reserverd=e.readUint32(),this.duration=e.readUint32()),e.readUint64(),this.layer=e.readInt16(),this.alternate_group=e.readInt16(),this.volume=e.readInt16()>>8,e.readUint16();for(var t=[],r=0;r<9;r++)t.push(e.readUint16()+"."+e.readUint16());this.matrix=t,this.width=e.readUint16()+"."+e.readUint16(),this.height=e.readUint16()+"."+e.readUint16(),delete this.data,delete this.subBox,e=null}},"./src/parse/box/traf.js":
/*!*******************************!*\
  !*** ./src/parse/box/traf.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict"},"./src/parse/box/trun.js":
/*!*******************************!*\
  !*** ./src/parse/box/trun.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict"},"./src/parse/box/udta.js":
/*!*******************************!*\
  !*** ./src/parse/box/udta.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(r(/*! ../box */"./src/parse/box.js")).default.udta=function(){delete this.subBox}},"./src/parse/box/url.js":
/*!******************************!*\
  !*** ./src/parse/box/url.js ***!
  \******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default["url "]=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=[e.readUint8(),e.readUint8(),e.readUint8()];for(var t=[],r=e.buffer.byteLength;e.position<r;)t.push(e.readUint8());this.location=t,delete this.subBox,delete this.data,e=null}},"./src/parse/box/vmhd.js":
/*!*******************************!*\
  !*** ./src/parse/box/vmhd.js ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";var n=o(r(/*! ../box */"./src/parse/box.js")),s=o(r(/*! ../stream */"./src/parse/stream.js"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.vmhd=function(){var e=new s.default(this.data);this.version=e.readUint8(),this.flag=[e.readUint8(),e.readUint8(),e.readUint8()],this.graphicsmode=e.readUint16(),this.opcolor=[e.readUint16(),e.readUint16(),e.readUint16()],delete this.subBox,delete this.data,e=null}},"./src/parse/date.js":
/*!***************************!*\
  !*** ./src/parse/date.js ***!
  \***************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=new Date;t.setFullYear(1904),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),this.time=t}return n(e,[{key:"setTime",value:function(e){return this.time.setTime(this.time.getTime()+1*e),this.time.toLocaleString()}}]),e}();t.default=s,e.exports=t.default},"./src/parse/index.js":
/*!****************************!*\
  !*** ./src/parse/index.js ***!
  \****************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=V(r(/*! ./box */"./src/parse/box.js")),s=V(r(/*! concat-typed-array */"./node_modules/concat-typed-array/lib/index.js")),o=V(r(/*! ./stream */"./src/parse/stream.js")),i=V(r(/*! ./box/vmhd.js */"./src/parse/box/vmhd.js")),a=V(r(/*! ./box/url.js */"./src/parse/box/url.js")),u=V(r(/*! ./box/udta.js */"./src/parse/box/udta.js")),d=V(r(/*! ./box/trun.js */"./src/parse/box/trun.js")),c=V(r(/*! ./box/traf.js */"./src/parse/box/traf.js")),l=V(r(/*! ./box/tkhd.js */"./src/parse/box/tkhd.js")),f=V(r(/*! ./box/tfhd.js */"./src/parse/box/tfhd.js")),m=V(r(/*! ./box/stz2.js */"./src/parse/box/stz2.js")),p=V(r(/*! ./box/stts.js */"./src/parse/box/stts.js")),h=V(r(/*! ./box/stsz.js */"./src/parse/box/stsz.js")),v=V(r(/*! ./box/stss.js */"./src/parse/box/stss.js")),y=V(r(/*! ./box/stsh.js */"./src/parse/box/stsh.js")),j=V(r(/*! ./box/stsd.js */"./src/parse/box/stsd.js")),_=V(r(/*! ./box/stsc.js */"./src/parse/box/stsc.js")),b=V(r(/*! ./box/stco.js */"./src/parse/box/stco.js")),x=V(r(/*! ./box/smhd.js */"./src/parse/box/smhd.js")),g=V(r(/*! ./box/SLConfigDescriptor.js */"./src/parse/box/SLConfigDescriptor.js")),w=V(r(/*! ./box/sdtp.js */"./src/parse/box/sdtp.js")),k=V(r(/*! ./box/sbgp.js */"./src/parse/box/sbgp.js")),U=V(r(/*! ./box/pasp.js */"./src/parse/box/pasp.js")),S=V(r(/*! ./box/nmhd.js */"./src/parse/box/nmhd.js")),T=V(r(/*! ./box/mvhd.js */"./src/parse/box/mvhd.js")),B=V(r(/*! ./box/MP4ESDescrTag.js */"./src/parse/box/MP4ESDescrTag.js")),M=V(r(/*! ./box/MP4DecSpecificDescrTag.js */"./src/parse/box/MP4DecSpecificDescrTag.js")),O=V(r(/*! ./box/MP4DecConfigDescrTag.js */"./src/parse/box/MP4DecConfigDescrTag.js")),z=V(r(/*! ./box/mp4a.js */"./src/parse/box/mp4a.js")),C=V(r(/*! ./box/mfhd.js */"./src/parse/box/mfhd.js")),E=V(r(/*! ./box/mdhd.js */"./src/parse/box/mdhd.js")),P=V(r(/*! ./box/mdat.js */"./src/parse/box/mdat.js")),D=V(r(/*! ./box/iods.js */"./src/parse/box/iods.js")),A=V(r(/*! ./box/hmhd.js */"./src/parse/box/hmhd.js")),F=V(r(/*! ./box/hdlr.js */"./src/parse/box/hdlr.js")),L=V(r(/*! ./box/ftyp.js */"./src/parse/box/ftyp.js")),R=V(r(/*! ./box/esds.js */"./src/parse/box/esds.js")),I=V(r(/*! ./box/elst.js */"./src/parse/box/elst.js")),N=V(r(/*! ./box/dref.js */"./src/parse/box/dref.js")),K=V(r(/*! ./box/ctts.js */"./src/parse/box/ctts.js")),q=V(r(/*! ./box/co64.js */"./src/parse/box/co64.js")),H=V(r(/*! ./box/btrt.js */"./src/parse/box/btrt.js")),G=V(r(/*! ./box/avcC.js */"./src/parse/box/avcC.js"));function V(e){return e&&e.__esModule?e:{default:e}}var X={};function W(e,t,r){var n=e;t.map(function(e,s){n[e]=s==t.length-1?r:n[e]||{},n=n[e]})}W(X,["box","avc1"],V(r(/*! ./box/avc1.js */"./src/parse/box/avc1.js")).default),W(X,["box","avcC"],G.default),W(X,["box","btrt"],H.default),W(X,["box","co64"],q.default),W(X,["box","ctts"],K.default),W(X,["box","dref"],N.default),W(X,["box","elst"],I.default),W(X,["box","esds"],R.default),W(X,["box","ftyp"],L.default),W(X,["box","hdlr"],F.default),W(X,["box","hmhd"],A.default),W(X,["box","iods"],D.default),W(X,["box","mdat"],P.default),W(X,["box","mdhd"],E.default),W(X,["box","mfhd"],C.default),W(X,["box","mp4a"],z.default),W(X,["box","MP4DecConfigDescrTag"],O.default),W(X,["box","MP4DecSpecificDescrTag"],M.default),W(X,["box","MP4ESDescrTag"],B.default),W(X,["box","mvhd"],T.default),W(X,["box","nmhd"],S.default),W(X,["box","pasp"],U.default),W(X,["box","sbgp"],k.default),W(X,["box","sdtp"],w.default),W(X,["box","SLConfigDescriptor"],g.default),W(X,["box","smhd"],x.default),W(X,["box","stco"],b.default),W(X,["box","stsc"],_.default),W(X,["box","stsd"],j.default),W(X,["box","stsh"],y.default),W(X,["box","stss"],v.default),W(X,["box","stsz"],h.default),W(X,["box","stts"],p.default),W(X,["box","stz2"],m.default),W(X,["box","tfhd"],f.default),W(X,["box","tkhd"],l.default),W(X,["box","traf"],c.default),W(X,["box","trun"],d.default),W(X,["box","udta"],u.default),W(X,["box","url"],a.default),W(X,["box","vmhd"],i.default);t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buffer=null,this.boxes=[],this.nextBox=null,this.start=0;this.buffer?(0,s.default)(Uint8Array,this.buffer,t):this.buffer=t;var r=t.byteLength;t.position=0;for(var i=new o.default(t);r-i.position>=8;){var a=new n.default;if(a.readHeader(i),a.size-8<=r-i.position)a.readBody(i),this.boxes.push(a);else{if("mdat"!==a.type){this.nextBox=a,i.position-=8;break}a.readBody(i),this.boxes.push(a)}}this.buffer=new Uint8Array(this.buffer.slice(i.position))},e.exports=t.default},"./src/parse/stream.js":
/*!*****************************!*\
  !*** ./src/parse/stream.js ***!
  \*****************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(r(/*! ../error */"./src/error.js"));var o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(t instanceof ArrayBuffer))throw new s.default("parse","",{line:9,handle:"[Stream] constructor",msg:"data is valid"});this.buffer=t,this.dataview=new DataView(t),this.dataview.position=0}return n(e,[{key:"skip",value:function(t){for(var r=Math.floor(t/4),n=t%4,s=0;s<r;s++)e.readByte(this.dataview,4);n>0&&e.readByte(this.dataview,n)}},{key:"readUint8",value:function(){return e.readByte(this.dataview,1)}},{key:"readUint16",value:function(){return e.readByte(this.dataview,2)}},{key:"readUint32",value:function(){return e.readByte(this.dataview,4)}},{key:"readUint64",value:function(){return e.readByte(this.dataview,8)}},{key:"readInt8",value:function(){return e.readByte(this.dataview,1,!0)}},{key:"readInt16",value:function(){return e.readByte(this.dataview,2,!0)}},{key:"readInt32",value:function(){return e.readByte(this.dataview,4,!0)}},{key:"position",set:function(e){this.dataview.position=e},get:function(){return this.dataview.position}}],[{key:"readByte",value:function(e,t,r){var n=void 0;switch(t){case 1:n=r?e.getInt8(e.position):e.getUint8(e.position);break;case 2:n=r?e.getInt16(e.position):e.getUint16(e.position);break;case 3:if(r)throw"not supported for readByte 3";n=e.getUint8(e.position)<<16,n|=e.getUint8(e.position+1)<<8,n|=e.getUint8(e.position+2);break;case 4:n=r?e.getInt32(e.position):e.getUint32(e.position);break;case 8:if(r)throw new s.default("parse","",{line:73,handle:"[Stream] readByte",msg:"not supported for readBody 8"});n=e.getUint32(e.position)<<32,n|=e.getUint32(e.position+4);break;default:n=""}return e.position+=t,n}}]),e}();t.default=o,e.exports=t.default},"./src/util/download.js":
/*!******************************!*\
  !*** ./src/util/download.js ***!
  \******************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=document.createElement("a"),s=new Blob([r]),o=document.createEvent("MouseEvents");o.initEvent("click",!1,!1),n.download=t,n.href=URL.createObjectURL(s),n.dispatchEvent(o)},e.exports=t.default},"./src/util/index.js":
/*!***************************!*\
  !*** ./src/util/index.js ***!
  \***************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={findBox:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.type!==t){if(e&&e.subBox){var s=e.subBox.filter(function(e){return e.type===t});s.length?s.forEach(function(e){return r.push(e)}):e.subBox.forEach(function(e){return n.findBox(e,t,r)})}}else r.push(e);return(r=[].concat(r)).length>1?r:r[0]},padStart:function(e,t,r){for(var n=String(r),s=t>>0,o=Math.ceil(s/n.length),i=[],a=String(e);o--;)i.push(n);return i.join("").substring(0,s-a.length)+a},toHex:function(){for(var e=[],t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];return r.forEach(function(t){e.push(n.padStart(Number(t).toString(16),2,0))}),e},sum:function(){for(var e=0,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){e+=t}),e},stscOffset:function(e,t){var r=e.entries.filter(function(e){return e.first_sample<=t&&t<e.first_sample+e.chunk_count*e.samples_per_chunk})[0];if(r){var n=Math.floor((t-r.first_sample)/r.samples_per_chunk),s=r.first_sample+n*r.samples_per_chunk;return{chunk_index:r.first_chunk+n,samples_offset:[s,t]}}var o=e.entries.pop();e.entries.push(o);var i=Math.floor((t-o.first_sample)/o.samples_per_chunk);return{chunk_index:o.first_chunk+i,samples_offset:[o.first_sample+o.samples_per_chunk*i,t]}},seekSampleOffset:function(e,t,r,s,o){var i=n.stscOffset(e,s+1),a=t.entries[i.chunk_index-1]+n.sum.apply(null,r.entries.slice(i.samples_offset[0]-1,i.samples_offset[1]-1))-o;if(void 0===a)throw"result="+a+",stco.length="+t.entries.length+",sum="+n.sum.apply(null,r.entries.slice(0,s));if(a<0)throw"result="+a+",stco.length="+t.entries.length+",sum="+n.sum.apply(null,r.entries.slice(0,s));return a},seekSampleTime:function(e,t,r){var n=void 0,s=void 0,o=0,i=0,a=0;if(e.entry.every(function(e){return s=e.sampleDuration,r<o+e.sampleCount?(n=i+(r-o)*e.sampleDuration,!1):(o+=e.sampleCount,i+=e.sampleCount*s,!0)}),t){var u=0;t.entry.every(function(e){return u+=e.count,!(r<u)||(a=e.offset,!1)})}return n||(n=i+(r-o)*s),{time:n,duration:s,offset:a}},seekOrderSampleByTime:function(e,t,r){var n=0,s=0,o=0,i=void 0;return e.every(function(e,a){return i=e.sampleCount*e.sampleDuration/t,r<=n+i?(s=o+Math.ceil((r-n)*t/e.sampleDuration),n+=Math.ceil((r-n)*t/e.sampleDuration)*e.sampleDuration/t,!1):(n+=i,o+=e.sampleCount,!0)}),{order:s,startTime:n}},seekTrakDuration:function(e,t){var r=0;return n.findBox(e,"stts").entry.forEach(function(e){r+=e.sampleCount*e.sampleDuration}),Number(r/t).toFixed(4)}};t.default=n,e.exports=t.default},0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */function(e,t,r){e.exports=r(/*! ./src/index.js */"./src/index.js")},xgplayer:
/*!***************************!*\
  !*** external "xgplayer" ***!
  \***************************/
/*! no static exports found */function(t,r){t.exports=e}})});
//# sourceMappingURL=index.js.map